vim: fdl=0 ft=build fdm=expr:

bc  # enters an arbitrary precision numeric processing language environment
Ctrl+s  pause output to screen
Ctrl+q  resume output to screen
lsusb
npm -g list
rhash -a --bsd <somefile>
rhash --list-hashes => list names of all supported hashes
rhash --sha256 <file>
sudo parted -l
wcsf=$(wc -l <samplefile>); echo $wcsf
xrandr

# Bash
!! # execute last command
<somecommand> | xcol <keyword1> <keyword2> ... # for highlighting
[ -s "filename" ]  # true if file not zero-size

## ANSI escape sequences
$ARCHBUILDS/Bash/bashrc-generic
\e[0;34m = Blue
\e[1;34m = Bold Blue
echo -e "\e[1m\e[95m[1m[95m\e[0m"

### tput
"nachoparker"
tput bold; echo hello

#### cat --show-nonprinting
for c in {0..255}; do tput setaf $c; tput setaf $c | cat -v; echo =$c; done
tput setaf 95; tput setaf 95 | cat -v; echo =95

## substitute user identity
su -  # login shell

## Login shell?
echo $0  # "-bash" = login shell, "bash" = non-login shell
shopt login_shell

# CUPS - when a printer is paused/disabled
lpstat -p -d  # show status of printers, including which is set as default

## HP ENVY 5532 WiFi
lpoptions -d 553_192_168_43_249  # set as default
lpoptions -p 553_192_168_43_249 -l  # list options
sudo cupsenable 553_192_168_43_249

# fonts
In a folder of possible fonts, to check if any are already installed:
  for font in $(ls); do fc-list $font; done

fc-list
/usr/share/fonts>$ fd -L consolas

# fun
tint

## CMatrix
cmatrix -u 9 -C blue
man cmatrix

# get at root on tty2
Ctrl+Alt+F2 > root + pw

# gVim
gvim --help | mo
gvim -geom 200  # height parameter is omitted as it's having no effect

# imagey
colorpicker --one-shot --preview
exiftool <image>
gswin64c -dSAFER -sDEVICE=png16m -r400 -dFirstPage=1 -dLastPage=1 -o output.png input.pdf
Pinta can't send to printer...

## ImageMagick
convert -flatten transparent.png white_background.png
convert <people> -paint 9 <people-oil>
for i in $(ls); do convert -resize 10% $i r$i; done
for i in $(ls); do convert -resize 15% $i r$i; done
for i in $(ls); do convert -resize 25% $i r$i; done
for i in $(ls); do convert -resize 50% $i r$i; done

### gravity
-gravity northwest  -> the default
convert -list gravity

## Nomacs
Alt+m  toggle menu
f      toggles selected panes
Alt > Alt A > Exposure > Gamma
Alt > Alt A > Tiny Planet
can only fill page for printing

## scanning
S 55n 3 <imagefilename> <scanheight>
see $Imagey/Scan.sh

## sxiv
can't send to printer
sxiv -ft *  # opens directly to thumbnails, using fullscreen
sxiv -r *

## Vimiv
O  switch focus
o  toggle the library
vimiv &
w  write changes

### tagged file list manipulation
:tag_remove tagname
:tag_write tagname
cat ~/.local/share/vimiv/Tags/tagname | while read i; do mv $i .; done
rm -r ~/.local/share/vimiv/Tags/tagname

### thumbnails
+/-  size
t    toggle

# multimedia
mediainfo --help | moar
mediainfo <avfile> | grep Encoded

## 16:9 aspect ratio
854x480
1280x720 = 720p = "HD Ready"

## cmus
,        seek -1m
.        seek +1m
^C       echo Type :quit<enter> to exit cmus.
^L       refresh
^R       toggle repeat_current
C        toggle continue
P        win-mv-before
b        player-next
e        win-add-q
h, left  seek -5
l, right seek +5
p        win-mv-after
r        toggle repeat
v        player-stop
z        player-prev

## OpenShot
crossfades are created in overlaps

### Export
Ctrl+e

### Nikon CoolPix P7700 VGA 640x480
Target > AVI (mpeg4)
Video Profile > VGA Widescreen NTSC (854x480)

### Preferences
Ctrl+Shift+p

#### Default Profile
defaults to HD 720p 30 fps
need to Restart OpenShot when changed

## mpv
mpv av://v4l2:/dev/video0

### interactive control
f -> toggle fullscreen
mouse wheel up/down -> seek forward/backward 10 seconds
o/O -> show progress

#### playback speed
BACKSPACE -> reset
[ and ] -> decrease/increase by 10%
{ and } -> halve/double

#### seeks
left/right -> seek 5 seconds forward/backward
shift left/right -> seek 1 seconds forward/backward
up/down -> seek 1 minute forward/backward

# networking
ip l
iwctl known-networks list
latest browser bookmarks: `JH/Now/TextNotes/bookmarks/Chromium-AVT661/bookmarks_10_06_2020.html`
sudo iptraf-ng
sudo lshw -c network

## devices
ip link
networkctl list

## Dropbox conflicted copies
find -name "* conflicted copy *"
find -name "*(Copie en conflit de *"

## email
$Bash/bashrc-email
echo "content" | nmz -s "subject" jharr@ftml.net -a <attachment>
grep -r "Georita" *
thunderbird -addressbook

### notmuch search
nmse '"Georita Harriott"' date:march..  # searches from March
nmse parlotte date:sat
notmuch search tag:fm | wc -l
notmuch search tag:gmail | wc -l
notmuch search tag:trohib | wc -l

### URLs unclickable by receiver
URLs (such as in an email sent from mutt) unclickable - so better to send to them with Thunderbird

#### email providors
- orange.fr
- yahoo!mail

## firewall-cmd
sudo firewall-cmd --info-zone=home
sudo firewall-cmd --info-zone=public
sudo firewall-cmd --panic-on

# pass
pass
pass edit gmail-neomutt
pass gmail-neomutt
pass ls
pass(1)
pass troh/GmailAPI/token-expire

# PDFs
pdfimages -h

## C5 printing
LibreOffice Writer gets it right
Ubuntu's qpdfview gets it almost right

### fails
Firefox can't figure it's portrait
Zathura prints as Print Page Setup default (normally A4)

## pdftk
pdftk in.pdf burst                # breaks into individual pages
pdftk in*.pdf cat output out.pdf  # concatenate a sequence of PDFs

## sizes
1 PostScript point = 0.3528 mm
pdfinfo <a_pdf_file>  # A5 = 420x595. See GSview for more sizes.

# Plasma
Ctrl+Alt+Shift+Del -> exit KDE without saving
Ctrl+Alt+Del       -> logout screen
Ctrl+Alt+T         -> Konsole
Win+PageUp/Down    -> maximises or returns to normal a window

# processes
fcrontab -l
lsof -i
pkill zoom
pgrep
pstree
sudo iotop -o

# sound
pulsemixer

## ALSA
alsamixer
sudo alsactl store

# storage
7z x <pw'd_zip>
"rsync manual"
cdrecord dev=/dev/sr0 -checkdrive

## broot
b broot
F5 => refresh

### run
br
br -c :count
br -d => br --dates => the last modified date
br -g => br --show-git-info
br -h => br --hidden
br -i => br --show-gitignored
br -p => br --permissions
br -s => br --sizes

## directory structures
<directory>  # cd <directory>  ( shopt autocd )

### exa
b exa
e
e -la  # for permissions and symlinks
e -T   # for tree

### Samokovarov's jump
b jump
j <fuzzysearch> [<FuzzyLook> ...]  then j for subsequent matches
jump clean
jump top | moar
jump --help

## Dolphin
F4        -> Konsole  attached below
Shift+F4  -> Konsole  in a new window

## fzf
Alt+c   # to change directory
b fzf
cat $(fzf)
cd [directory/][fuzzy_pattern]**<tab>
Ctrl+t  # puts node selection onto command line
f
gvim -o `f`  # calling upon fzf
kill -9 <tab>
ls -l $(fzf -m)
unalias **<tab>

### Search syntax
Token    -  Match type                  -  Description
sbtrkt   -  fuzzy-match                 -  Items that match sbtrkt
'wild    -  exact-match (quoted)        -  Items that include wild
^music   -  prefix-exact-match          -  Items that start with music
.mp3$    -  suffix-exact-match          -  Items that end with .mp3
!fire    -  inverse-exact-match         -  Items that do not include fire
!^music  -  inverse-prefix-exact-match  -  Items that do not start with music
!.mp3$   -  inverse-suffix-exact-match  -  Items that do not end with .mp3

| OR

## non-optical
blkid -o list
df -h
lsblk -f
$DROPBOX/JH/Now/Technos/IT/UnixLike/GNU+Linux/Arch > rg -ttxt ft=bbcode > forum.txt
sudo parted -l

### Trash
trash-empty
sudo rm -r .Trash-1000/files/<something-thats-stuck>  # can take a while...

## file counts
isutf8 **/* | wc -l  # non UTF-8 files (fails when too many)
ls **/* | wc -l      # all of the files

## file searching
as root: find / -xdev -iname "*fmtutil.cnf*"
find . -iregex '.*\.\(avi\|flv\|mkv\|mov\|mp4\|ogv\)$' > avfiles.txt
find . -type d -name .git
find . -type f -name .gitignore
find . -type f | fzy  # for finding something fuzzily fast

### fd
b fd
fd --max-depth 1 -H -t l  # finds symlinks in current directory, broken ones distinguished
fd --max-depth 2 -Hl -t l | xcol <keywords>  # handy for spotting snags
fd -H  # fd --hidden
fd -I  # fd --no-ignore => do not respect .(git|fd)ignore files
sharkdp/fd

### mlocate
b locate
locate -c
locate -h
sudo updatedb

### list symlinks
find . -mindepth 1 -maxdepth 1 -type l -ls  # only in this directory

#### recursively
find . -type l -ls
find ~ -path '*/.virtualenvs' -prune -o -type l -ls

### grepping
egrep '<someText>|<otherText>'

#### ripgrep
for f in $(rg -l -tmd github); do sm $f; done | sort > githubIssues.txt  # my GitHub issues
rg -l -ttex '\\input' > rg-tex.txt
rg -l -ttex verseSettings > rg-tex.txt
rg <someText>  # searches recursively in files
rg 'sometext' --no-ignore  # allows searching into gitignored places
rg '<someText>|<otherText>'

## sizes
diskonaut -h
du -h --max-depth=1  # for a quick list of folder sizes
dust
ncdu

# system
as root,  journalctl -b  # review the startup messages

cat /proc/cpuinfo
whereis <executable>

b <command>  # batman
id jo        # show uid, gid, and groups for jo
man hier     # description of the filesystem hierarchy
systemctl    # list running Systemd units
systemctl --no-pager
uname -a     # unix name, includes linux version number
w            # list users and load on system
xset q       # shows a variety of IO settings

## check graphics card
lspci | grep -e VGA -e 3D

## decode key-presses
sudo showkey  # keycodes
xev | awk -F'[ )]+' '/^KeyPress/ { a[NR+2] } NR in a { printf "%-3s %s\n", $5, $8 }'  # scancodes

## monitoring
bashtop
glances
gtop
htop
saidar -c

## root storage sizes as root
du -sh /boot /etc /home /root /usr
du -shx
ncdu -x

# termdown
termdown --help | moar
termdown -b 10

# tmux
resize -s 65 120  # good for half of ViewSonic VX2025wm

## panes
C-a C-o -> Rotate through the panes
C-a M-1 -> switch to even-horizontal layout
C-a M-2 -> switch to even-vertical layout
C-a M-3 -> switch to main-horizontal layout
C-a M-4 -> switch to main-vertical layout

## sessions
tmux a                  # attach
tmux a -t myname        # attach to session myname
tmux kill-server; tmux  # good for resetting
tmux ls                 # list sessions

