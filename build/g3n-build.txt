vim: fdl=1 ft=build fdm=expr:

# Physical Configuration
LabelFlash DVD writer in top tray with flip-down front cover, SATA2
## hd's
SDSSDA240G on SATA1, sitting loosely in a tray
### added hd's & not yet connected to SATA ports
9QG2FFEE, 2nd tray from bottom
HD103SJ, lowest tray
WD1001FALS in a plastic holder, third wide tray down
## human interface
Logitech Â® Ultra-Flat Keyboard  plugged in purple
Logitech Cordless Desktop EX 110 Mouse plugged in Green PS/2 port
GNR TS501
## internet
TL-WR702N plugged into LAN socket as Client to Samsung Core Prime
# Arch install
booted to  archlinux-2019.03.01-x86_64.iso  CD
loadkeys uk
## storage spaces
lsblk -f  indicated  swapon /dev/sda3  (then  swapon -s  shows /dev/sda3 has default Priority -2)
  mount /dev/sda1 /mnt   then  mount /dev/sdc2 /mnt/home
cd /mnt/home  rm -r *   cd ..   rm -r ^home
## internet
ip link  reports  LAN  socket as  enp0s25
ping -c 3 8.8.8.8  got a response
## system clock
timedatectl set-ntp true
## install the base packages
pacstrap /mnt base base-devel  installed a load
## fstab
cat /mnt/etc/fstab  reveals it to have just the headers, so:
  genfstab -U -p /mnt >> /mnt/etc/fstab   generated info for  /  /home  & the swap partition
## change root
arch-chroot /mnt
### Time zone
ls -l /etc/localtime  shows it's a symlink to  ../usr/share/zoneinfo/UTC, so  rm /etc/localtime
ln -s /usr/share/zoneinfo/Europe/Paris /etc/localtime  (don't cat this!)
hwclock --systohc
### Locale
vi /etc/locale.gen
  and uncommented   en_GB.UTF-8 UTF-8  &  en_US>UTF-8 UTF_8  &  fr_FR>UTF-8 UTF_8
  cat /etc/locale.gen | grep -A 17 en_GB   then  locale-gen
cat /etc/locale.conf   shows it ain't there, so   echo LANG=en_GB.UTF-8 > /etc/locale.conf
cat /etc/vconsole.conf  shows it ain't there, so  echo KEYMAP=uk > /etc/vconsole.conf
### Networking
cat /etc/hostname   shows it ain't there, so   echo AVT661 > /etc/hostname
ping ipv6.google.com  "Network is unreachable"
#### /etc/hosts
vi /etc/hosts
##### appended
127.0.0.1 localhost
::1       localhost
127.0.1.1 AVT661.localdomain AVT661
#### Network Time Protocol
pacman -S ntp  = 2 packages
### root password
passwd
### Microcode
pacman -S intel-ucode
### GRUB
pacman -S gptfdisk
exit
reboot
# later
## Time 6.1s slow
as revealed by   http://time.is/
sudo ntpd -qg
sudo hwclock --systohc
